# Configuration file for CSCTriggerPrimitives building.
# Slava Valuev May-2006.

process MuonCSCTriggerPrimitives = {

   source = PoolSource {
#      untracked vstring fileNames = {'file:cscdigis.root'}
      untracked vstring fileNames = {'file:/afs/cern.ch/cms/data/CMSSW/Tutorials/May06CPTweekTutorials/MuonReconstruction/muondigi_tutorial_20to100GeV.root'}
#      untracked vstring fileNames = {'file:single_muminus_pt50.root'}
#      untracked vstring fileNames = {'file:/afs/cern.ch/user/s/slava/scratch0/CMSSW_0_7_2/src/EventFilter/CSCRawToDigi/test/digi_28c_0_0.root'}
      untracked int32 maxEvents = 100
      untracked uint32 debugVebosity = 10
      untracked bool   debugFlag     = true
   }

# es_source of ideal geometry
# ===========================
# endcap muon only...
   include "Geometry/MuonCommonData/data/muonEndcapIdealGeometryXML.cfi"

# flags for modelling of CSC geometry
# ===================================
   include "Geometry/CSCGeometry/data/cscGeometry.cfi"

# magnetic field (do I need it?)
# ==============================
   include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

   service = MessageLogger {
      untracked vstring destinations = { "log.txt", "debug.txt", "errors.txt" }
      untracked vstring statistics = { "statistics.txt" }

# Constrain log.txt to LogInfo output...
##     untracked PSet log.txt = { untracked string threshold = "INFO" }

# No constraint on log.txt content...
      untracked PSet log.txt = { untracked int32 lineLength = 132
                                 untracked bool noLineBreaks = true
                               }

      untracked PSet debug.txt = { untracked string threshold = "DEBUG"
                                   untracked int32 lineLength = 132
                                   untracked bool noLineBreaks = true
                                 } 

      untracked PSet errors.txt = { untracked string threshold = "ERROR" }

      untracked PSet statistics.txt = { untracked string threshold = "INFO" }

# turn on the following to get LogDebug output
# ============================================
#      untracked vstring debugModules = {  "*"  }
      untracked vstring debugModules = { "lctproducer" }
   }

## block of common parameters for algorithms
## =========================================
##   block common_params = {
## Should I also use something like this?
## Flag to send info _I_ want to LogInfo
## Set false to minimize LogInfo output
##     untracked bool verboseInfo = true
##     int32 clusterSize = 3
##   }

# CSC Trigger Primitives
# ======================
   include "L1Trigger/CSCTriggerPrimitives/data/CSCTriggerPrimitivesProducer.cfi"
   replace lctproducer.alctParam.verbosity = 2
   replace lctproducer.clctParam.verbosity = 2
   replace lctproducer.tmbParam.verbosity  = 2
#- For cosmic data
#   replace lctproducer.CSCComparatorDigiProducer = cscunpacker:MuonCSCComparatorDigi
#   replace lctproducer.CSCWireDigiProducer       = cscunpacker:MuonCSCWireDigi
#   replace lctproducer.alctParam.alctTrigMode    = 2

   module out = PoolOutputModule {
      untracked string fileName ="lcts.root"
      untracked vstring outputCommands =
         {
          "keep *",
          "drop *_DaqSource_*_*"
         }
   }

# scheduler path
# ==============
   path p = {lctproducer}
   endpath ep = {out}
}
